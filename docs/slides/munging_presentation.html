<!DOCTYPE html>
<html>
  <head>
    <title>Tidy data</title>
    <meta charset="utf-8">
    <meta name="author" content="Andrew MacDonald" />
    <meta name="date" content="2017-02-07" />
    <link href="libs/remark-css/example.css" rel="stylesheet" />
  </head>
  <body>
    <textarea id="source">
class: center, middle

# Tidy data
## structuring datasets to make analysis easy
### Andrew MacDonald
### 07 Feb 2017

---




# What is "tidy data"

&gt; Happy families are all alike; every unhappy family is unhappy in its own way â€” Leo Tolstoy

--

1. Each variable forms a column.

--

1. Each observation forms a row.

--

1. Each type of observational unit forms a table.

--

see [the tidy data vignette](ftp://cran.r-project.org/pub/R/web/packages/tidyr/vignettes/tidy-data.html)

---

# an example


```r
library(gapminder)
head(gapminder)
```

```
#       country continent year lifeExp      pop gdpPercap
# 1 Afghanistan      Asia 1952  28.801  8425333  779.4453
# 2 Afghanistan      Asia 1957  30.332  9240934  820.8530
# 3 Afghanistan      Asia 1962  31.997 10267083  853.1007
# 4 Afghanistan      Asia 1967  34.020 11537966  836.1971
# 5 Afghanistan      Asia 1972  36.088 13079460  739.9811
# 6 Afghanistan      Asia 1977  38.438 14880372  786.1134
```

--
&lt;/br&gt;
&lt;/br&gt;
&lt;/br&gt;


**The `data.frame` is a fundamental part of any "tidy" workflow**

---
class: center
# Key principle
&lt;/br&gt;
--
&lt;font size = 20&gt; raw data should stay &lt;/br&gt; &lt;strong&gt;exactly the way it is&lt;/strong&gt; &lt;/font&gt;
--
&lt;/br&gt;
&lt;/br&gt;
this suggests that we will need to rearrange data _automatically_

---

class: center, middle

# Introducing: the most controversial symbol in modern R

---

class: center, middle
&lt;/br&gt;
`%&gt;%`
---
# the pipe


```r
foo_foo &lt;- little_bunny()

## orthodox R style
bop_on(scoop_up(hop_through(foo_foo, forest), field_mouse), head)
```
--

```r
## novel pipe syntax
foo_foo %&gt;%
  hop_through(forest) %&gt;%
  scoop_up(field_mouse) %&gt;%
  bop_on(head)
```

---
## dplyr &amp; tidyr

1. `select()`
2. `filter()`
3. `group_by()`
4. `summarize()`
5. `mutate()`

and from `tidyr`
1. `gather`
2. `spread`
3. `separate`
4. `unite`
    </textarea>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightStyle": "github"
});</script>

  </body>
</html>
